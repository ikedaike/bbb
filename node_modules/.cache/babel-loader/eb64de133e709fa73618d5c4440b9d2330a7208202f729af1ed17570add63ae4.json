{"ast":null,"code":"/* ダイアログ表示用コンポーネント */\nimport StampDialog from '../dialog/StampDialog.vue';\nimport dayjs from 'dayjs';\n/* 標準のdateインスタンスは使うのが面倒なのでdayjsを使用 */\nimport 'dayjs/locale/ja';\nexport default {\n  components: {\n    StampDialog\n  },\n  data() {\n    return {\n      attendanceMark: \"出勤\",\n      leavingMark: \"退勤\",\n      /* ボタンを非活性にするかどうか */\n      isAttendanceDisable: false,\n      isLeavingDisable: false,\n      /* ダイアログを表示するかどうか */\n      isAttendanceDialogView: false,\n      isLeavingDialogView: false,\n      nowDate: \"\",\n      nowMonthDateDay: \"\",\n      nowtime: \"\",\n      attendanceHourMinute: \"\",\n      leavingHourMinute: \"\"\n    };\n  },\n  mounted() {\n    /* DOMが生成された段階で現在時刻を表示 */\n    this.nowDate = this.fetchNowDate();\n    this.nowMonthDateDay = this.makeMonthDateDayTemplate(this.nowDate);\n    this.nowtime = this.makeHourMinuteTemplate(this.nowDate);\n  },\n  computed: {},\n  methods: {\n    /* 時刻取得 */\n    fetchNowDate() {\n      /* 日本語変換 */\n      dayjs.locale('ja');\n      /* インスタンスを返却 */\n      return dayjs();\n    },\n    /* 時刻表示用フォーマット */\n    makeHourMinuteTemplate(nowDate) {\n      return nowDate.format('HH:mm');\n    },\n    /* ○月○日(○)曜日表示フォーマット */\n    makeMonthDateDayTemplate(nowDate) {\n      return nowDate.format('M月D日(ddd)');\n    },\n    attendanceAtWork() {\n      /* 出勤ダイアログを表示 */\n      this.isAttendanceDialogView = true;\n    },\n    leavingWork() {\n      /* 退勤ダイアログを表示 */\n      this.isLeavingDialogView = true;\n    },\n    /* 取消が押下された場合 */\n    cancelAttendanceAtWork() {\n      this.attendanceMark = \"出勤\";\n      this.isAttendanceDisable = false;\n      this.attendanceHourMinute = \"\";\n    },\n    cancelLeavingWork() {\n      this.leavingMark = \"退勤\";\n      this.isLeavingDisable = false;\n      this.leavingHourMinute = \"\";\n    },\n    /* ダイアログで出勤打刻が押下されたら実行 */\n    ApplyForAttendance() {\n      /* 済を表示し、ボタンを非活性 */\n      this.attendanceMark = \"出勤済み\";\n      this.isAttendanceDisable = true;\n      /* 時刻を取得し、表示フォーマットを作成 */\n      this.attendanceHourMinute = this.makeHourMinuteTemplate(this.fetchNowDate());\n      /* ダイアログを閉じる */\n      this.closeAttendanceDialog();\n    },\n    /* ダイアログで退勤打刻が押下されたら実行 */\n    ApplyForLeaving() {\n      /* 済を表示し、ボタンを非活性 */\n      this.leavingMark = \"退勤済み\";\n      this.isLeavingDisable = true;\n      /* 時刻を取得し、表示フォーマットを作成 */\n      this.leavingHourMinute = this.makeHourMinuteTemplate(this.fetchNowDate());\n      /* ダイアログを閉じる */\n      this.closeLeavingDialog();\n    },\n    /* 子からの値を受け取ったらダイアログが閉じる */\n    closeAttendanceDialog() {\n      this.isAttendanceDialogView = !this.isAttendanceDialogView;\n    },\n    closeLeavingDialog() {\n      this.isLeavingDialogView = !this.isLeavingDialogView;\n    }\n  }\n};","map":{"version":3,"mappings":"AAgDA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC,WACA;EACAC;IACA;IACAC;MACA;MACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["components","StampDialog","data","attendanceMark","leavingMark","isAttendanceDisable","isLeavingDisable","isAttendanceDialogView","isLeavingDialogView","nowDate","nowMonthDateDay","nowtime","attendanceHourMinute","leavingHourMinute","mounted","computed","methods","fetchNowDate","dayjs","makeHourMinuteTemplate","makeMonthDateDayTemplate","attendanceAtWork","leavingWork","cancelAttendanceAtWork","cancelLeavingWork","ApplyForAttendance","ApplyForLeaving","closeAttendanceDialog","closeLeavingDialog"],"sourceRoot":"src/components/pages","sources":["StampPage.vue"],"sourcesContent":["<template>\n    <div class=\"stamp\">\n        <!-- ダイアログ表示中は非表示 -->\n        <div class=\"stamp-view\" v-show=\"!isAttendanceDialogView || isLeavingDialogView\">\n            <div class=\"date\">\n                <p class=\"now-date\">\n                    {{ nowMonthDateDay }}\n                </p>\n                <p class=\"now-time\">\n                    {{ nowtime }}\n                </p>\n            </div>\n            <!-- 出退勤ボタンをクリックしたら非活性にする -->\n            <button @click=\"attendanceAtWork\" :disabled=\"isAttendanceDisable\">{{ attendanceMark }}</button>\n            <br>\n            <!-- attendanceHourMinuteに値があれば時刻を表示 -->\n            <div v-show=\"!attendanceHourMinute\">\n                未\n            </div>\n            <div v-show=\"attendanceHourMinute\">\n                {{ attendanceHourMinute }}\n                <!-- 取り消しボタン(bootstrap) -->\n                <button type=\"button\" class=\"btn btn-link\" @click=\"cancelAttendanceAtWork\">[取消]</button>\n            </div>\n            <button @click=\"leavingWork\" :disabled=\"isLeavingDisable\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\">\n                {{ leavingMark }}</button>\n            <div v-show=\"!leavingHourMinute\">\n                未\n            </div>\n            <br>\n            <div v-show=\"leavingHourMinute\">\n                {{ leavingHourMinute }}\n                <button type=\"button\" class=\"btn btn-link\" @click=\"cancelLeavingWork\">[取消]</button>\n            </div>\n        </div>\n        <!-- 打刻が押されたらダイアログを表示 -->\n        <div class=\"dialog-view\" v-show=\"isAttendanceDialogView\">\n            <!-- v-bindで値を子に渡し、カスタムイベントで子からの値を受け取る -->\n            <!-- dataから動的に値を使う時はv-bind -->\n            <StampDialog :work-status=\"attendanceMark\" :now-date=\"nowDate\" @apply-for-attendance=\"ApplyForAttendance\" @close-attendance-dialog=\"closeAttendanceDialog\"></StampDialog>\n        </div>\n        <div class=\"dialog-view\" v-show=\"isLeavingDialogView\">\n            <StampDialog :work-status=\"leavingMark\" @apply-for-leaving=\"ApplyForLeaving\" @close-leaving-dialog=\"closeLeavingDialog\"></StampDialog>\n        </div>\n    </div>\n</template>\n    \n<script>\n/* ダイアログ表示用コンポーネント */\nimport StampDialog from '../dialog/StampDialog.vue';\nimport dayjs from 'dayjs';\n/* 標準のdateインスタンスは使うのが面倒なのでdayjsを使用 */\nimport 'dayjs/locale/ja';\n\nexport default{\n    components: {\n        StampDialog\n    },\n    data() {\n        return{\n            attendanceMark: \"出勤\",\n            leavingMark: \"退勤\",\n            /* ボタンを非活性にするかどうか */\n            isAttendanceDisable: false,\n            isLeavingDisable: false,\n            /* ダイアログを表示するかどうか */\n            isAttendanceDialogView: false,\n            isLeavingDialogView: false,\n            nowDate: \"\",\n            nowMonthDateDay: \"\",\n            nowtime:\"\",\n            attendanceHourMinute: \"\",\n            leavingHourMinute:\"\"\n        }\n    },\n    mounted() {\n        /* DOMが生成された段階で現在時刻を表示 */\n        this.nowDate = this.fetchNowDate()\n        this.nowMonthDateDay = this.makeMonthDateDayTemplate(this.nowDate)\n        this.nowtime = this.makeHourMinuteTemplate(this.nowDate)\n    },\n    computed: {\n    },\n    methods: {\n        /* 時刻取得 */\n        fetchNowDate(){\n            /* 日本語変換 */\n            dayjs.locale('ja');\n            /* インスタンスを返却 */\n            return dayjs()\n        },\n        /* 時刻表示用フォーマット */\n        makeHourMinuteTemplate(nowDate){\n            return nowDate.format('HH:mm')\n        },\n        /* ○月○日(○)曜日表示フォーマット */\n        makeMonthDateDayTemplate(nowDate){\n            return nowDate.format('M月D日(ddd)')\n        },\n        attendanceAtWork(){\n            /* 出勤ダイアログを表示 */\n            this.isAttendanceDialogView = true\n        },\n        leavingWork(){\n            /* 退勤ダイアログを表示 */\n            this.isLeavingDialogView = true\n        },\n        /* 取消が押下された場合 */\n        cancelAttendanceAtWork(){\n            this.attendanceMark = \"出勤\"\n            this.isAttendanceDisable = false\n            this.attendanceHourMinute = \"\"\n        },\n        cancelLeavingWork(){\n            this.leavingMark = \"退勤\"\n            this.isLeavingDisable = false\n            this.leavingHourMinute = \"\"\n        },\n        /* ダイアログで出勤打刻が押下されたら実行 */\n        ApplyForAttendance(){\n            /* 済を表示し、ボタンを非活性 */\n            this.attendanceMark = \"出勤済み\"\n            this.isAttendanceDisable = true\n            /* 時刻を取得し、表示フォーマットを作成 */\n            this.attendanceHourMinute = this.makeHourMinuteTemplate(this.fetchNowDate())\n            /* ダイアログを閉じる */\n            this.closeAttendanceDialog()\n        },\n        /* ダイアログで退勤打刻が押下されたら実行 */\n        ApplyForLeaving(){\n            /* 済を表示し、ボタンを非活性 */\n            this.leavingMark = \"退勤済み\"\n            this.isLeavingDisable = true\n            /* 時刻を取得し、表示フォーマットを作成 */\n            this.leavingHourMinute = this.makeHourMinuteTemplate(this.fetchNowDate())\n            /* ダイアログを閉じる */\n            this.closeLeavingDialog()\n        },\n        /* 子からの値を受け取ったらダイアログが閉じる */\n        closeAttendanceDialog(){\n            this.isAttendanceDialogView = !this.isAttendanceDialogView\n        },\n        closeLeavingDialog(){\n            this.isLeavingDialogView = !this.isLeavingDialogView\n        }\n    }\n}\n</script>\n    \n<style scoped>\n\n</style>\n    "]},"metadata":{},"sourceType":"module","externalDependencies":[]}