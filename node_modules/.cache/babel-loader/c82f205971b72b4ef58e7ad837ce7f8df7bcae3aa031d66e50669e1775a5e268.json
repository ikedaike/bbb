{"ast":null,"code":"// カスタムしたaxiosをインポート\nimport axios from '../../axiou-auth';\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n  /*vuexのstateは基本computedを使用する\n    該当する変数の値が変わった時のみ更新すれば良いから*/\n  computed: {\n    count() {\n      /* this.$storeは、main.jsのnew vueにstoreを定義していることで、どのコンポーネントからも\n      storeが利用できるため$でアクセスしている($はvueインスタンスの値を使用する時に使う) */\n      return this.$store.state.count;\n    }\n  },\n  methods: {\n    // thenではなくasync/awaitを使用\n    // 参考 https://qiita.com/shisama/items/61cdcc09dc69fd8d3127\n    async login() {\n      // firebaseの認証機構を使用している(事前にユーザを登録しておいた)\n      try {\n        // postの第二引数の値は以下公式ドキュメントを参考\n        // https://firebase.google.com/docs/reference/rest/auth\n        const response = await axios.post('/accounts:signInWithPassword?key=AIzaSyDgzqZut4dul-eVpjWdNSCeBntGScPVlnM', {\n          email: this.email,\n          password: this.password,\n          returnSecureToken: true\n        });\n        console.log(response);\n      } catch (error) {\n        console.log(error);\n      }\n      // 1度リクエストを送ったら値を初期化\n      this.email = \"\";\n      this.password = \"\";\n    }\n  }\n};","map":{"version":3,"mappings":"AAuBA;AACA;AAEA;EACAA;IACA;MACAC;MACAC;IACA;EACA;EACA;AACA;EACAC;IACAC;MACA;AACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;MACA;MACA;QACA;QACA;QACA,8GACA;UACAJ;UACAC;UACAI;QACA;QACAC;MACA,EACA;QACAA;MACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["data","email","password","computed","count","methods","returnSecureToken","console"],"sourceRoot":"src/components/pages","sources":["LoginPage.vue"],"sourcesContent":["<template>\n<div class=\"aaa\">\n  <h2>ログイン</h2>\n  <label for=\"email\">email</label>\n  <input\n  id=\"email\"\n  type=\"email\"\n  v-model=\"email\">\n  {{email}}\n  <br>\n  <label for=\"password\">password</label>\n  <input\n  id=\"password\"\n  type=\"password\"\n  v-model=\"password\">\n  {{password}}\n  <br>\n  <button @click=\"login\">ログイン</button>\n  {{count}}\n</div>\n</template>\n\n<script>\n// カスタムしたaxiosをインポート\nimport axios from '../../axiou-auth'\n\nexport default{\n  data() {\n    return{\n      email: \"\",\n      password: \"\"\n    }\n  },\n/*vuexのstateは基本computedを使用する\n  該当する変数の値が変わった時のみ更新すれば良いから*/\n  computed: {\n    count() {\n      /* this.$storeは、main.jsのnew vueにstoreを定義していることで、どのコンポーネントからも\n      storeが利用できるため$でアクセスしている($はvueインスタンスの値を使用する時に使う) */\n      return this.$store.state.count\n    }\n  },\n  methods: {\n    // thenではなくasync/awaitを使用\n    // 参考 https://qiita.com/shisama/items/61cdcc09dc69fd8d3127\n    async login(){\n      // firebaseの認証機構を使用している(事前にユーザを登録しておいた)\n      try{\n        // postの第二引数の値は以下公式ドキュメントを参考\n        // https://firebase.google.com/docs/reference/rest/auth\n        const response = await axios.post('/accounts:signInWithPassword?key=AIzaSyDgzqZut4dul-eVpjWdNSCeBntGScPVlnM',\n      {\n       email: this.email,\n       password: this.password,\n       returnSecureToken: true\n      })\n        console.log(response)\n      }\n      catch(error){\n        console.log(error)\n      }\n      // 1度リクエストを送ったら値を初期化\n      this.email = \"\"\n      this.password = \"\"\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}